<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spin to Win Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .wheel-section {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: bottom right;
            clip-path: polygon(0 0, 100% 0, 0 100%);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .wheel-section span {
            position: absolute;
            transform: rotate(45deg) translateX(70px) rotate(-45deg);
            font-weight: bold;
            color: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
        }
        
        .spinning {
            animation: spin 0.5s linear infinite;
        }
        
        .currency-button.active {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
        }
        
        .pulse {
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #f00;
            opacity: 0;
        }
        
        .confetti-animation {
            animation: confetti-fall 3s ease-out forwards;
        }
        
        @keyframes confetti-fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body class="bg-gradient-to-b from-blue-900 to-indigo-900 min-h-screen text-white font-sans overflow-x-hidden">
    <!-- Main Game Container -->
    <div class="container mx-auto px-4 py-8">
        <div class="flex flex-col items-center">
            <h1 class="text-4xl font-bold mb-8 text-center bg-clip-text text-transparent bg-gradient-to-r from-yellow-400 to-yellow-600">
                <i class="fas fa-coins mr-2"></i> Spin to Win
            </h1>
            
            <!-- Wheel Container -->
            <div class="relative w-64 h-64 md:w-80 md:h-80 mb-8">
                <!-- Wheel -->
                <div id="spin-wheel" class="w-full h-full rounded-full bg-gray-800 relative overflow-hidden shadow-xl">
                    <!-- Wheel segments will be generated by JavaScript -->
                </div>
                
                <!-- Wheel Center -->
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-12 h-12 md:w-16 md:h-16 rounded-full bg-gradient-to-br from-gray-200 to-gray-400 border-4 border-yellow-400 shadow-md z-10"></div>
                
                <!-- Wheel Pointer -->
                <div class="absolute -top-2 left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-8 border-r-8 border-b-16 border-l-transparent border-r-transparent border-b-red-600 z-20"></div>
                
                <!-- Decorative Elements -->
                <div class="absolute -inset-4 rounded-full border-4 border-yellow-400 opacity-30 pointer-events-none"></div>
                <div class="absolute -inset-6 rounded-full border-2 border-yellow-200 opacity-20 pointer-events-none"></div>
            </div>
            
            <!-- Currency Options -->
            <div class="flex flex-wrap justify-center gap-3 mb-8">
                <button class="currency-button crypto active px-4 py-2 rounded-full bg-gradient-to-br from-yellow-500 to-yellow-600 flex items-center transition-all duration-300" id="btn-crypto">
                    <i class="fas fa-coins mr-2"></i> Crypto
                </button>
                <button class="currency-button inr px-4 py-2 rounded-full bg-gradient-to-br from-green-500 to-green-600 flex items-center transition-all duration-300" id="btn-inr">
                    <span class="mr-2">₹</span> INR
                </button>
                <button class="currency-button usd px-4 py-2 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center transition-all duration-300" id="btn-usd">
                    <span class="mr-2">$</span> USD
                </button>
                <button class="currency-button pkr px-4 py-2 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center transition-all duration-300" id="btn-pkr">
                    <span class="mr-2">₨</span> PKR
                </button>
            </div>
            
            <!-- Spin Button -->
            <button id="spin-button" class="px-8 py-3 mb-8 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 text-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300 pulse">
                SPIN THE WHEEL
            </button>
            
            <!-- Result Display -->
            <div class="w-full max-w-md bg-gray-800 bg-opacity-50 rounded-xl p-6 backdrop-blur-sm border border-gray-700 shadow-lg">
                <div id="result-amount" class="text-3xl font-bold text-center mb-2 text-yellow-400 h-10"></div>
                <div id="result-message" class="text-center text-gray-200">
                    Select a currency and spin the wheel to win prizes!
                </div>
                <div id="spin-timer" class="text-center text-sm text-gray-400 mt-4"></div>
            </div>
            
            <!-- Return Button -->
            <button id="return-button" class="mt-8 px-6 py-2 rounded-full bg-gray-700 hover:bg-gray-600 transition-all duration-300 flex items-center">
                <i class="fas fa-arrow-left mr-2"></i> Return to Menu
            </button>
        </div>
    </div>
    
    <!-- Confetti Container -->
    <div id="confetti-container" class="fixed inset-0 pointer-events-none overflow-hidden z-50"></div>

    <script>
        // Game state
        const gameState = {
            currency: 'crypto',
            lastSpinTime: 0,
            spinCooldown: 24 * 60 * 60 * 1000, // 24 hours in milliseconds
            spinning: false
        };
        
        // Prize values for each currency
        const prizeValues = {
            crypto: [0.001, 0.002, 0.005, 0.01, 0.02, 0.05, 0.1, 0.2],
            inr: [10, 20, 50, 100, 200, 500, 1000, 2000],
            usd: [0.5, 1, 2, 5, 10, 20, 50, 100],
            pkr: [20, 50, 100, 200, 500, 1000, 2000, 5000]
        };
        
        // Currency symbols
        const currencySymbols = {
            crypto: '₿',
            inr: '₹',
            usd: '$',
            pkr: '₨'
        };
        
        // Colors for wheel sections
        const wheelColors = [
            'bg-gradient-to-br from-red-500 to-red-600',
            'bg-gradient-to-br from-blue-500 to-blue-600',
            'bg-gradient-to-br from-green-500 to-green-600',
            'bg-gradient-to-br from-yellow-500 to-yellow-600',
            'bg-gradient-to-br from-purple-500 to-purple-600',
            'bg-gradient-to-br from-pink-500 to-pink-600',
            'bg-gradient-to-br from-indigo-500 to-indigo-600',
            'bg-gradient-to-br from-teal-500 to-teal-600'
        ];
        
        // Initialize the wheel
        function initWheel() {
            const wheel = document.getElementById('spin-wheel');
            wheel.innerHTML = '';
            
            const prizes = prizeValues[gameState.currency];
            const symbol = currencySymbols[gameState.currency];
            
            for (let i = 0; i < 8; i++) {
                const section = document.createElement('div');
                section.className = `wheel-section ${wheelColors[i]}`;
                section.style.transform = `rotate(${i * 45}deg)`;
                
                const span = document.createElement('span');
                span.textContent = `${symbol}${prizes[i]}`;
                section.appendChild(span);
                
                section.dataset.value = prizes[i];
                wheel.appendChild(section);
            }
        }
        
        // Spin the wheel
        function spinWheel() {
            if (gameState.spinning) return;
            
            // Check cooldown
            const now = Date.now();
            const timeRemaining = gameState.lastSpinTime + gameState.spinCooldown - now;
            
            if (timeRemaining > 0) {
                updateTimerDisplay(timeRemaining);
                return;
            }
            
            gameState.spinning = true;
            const wheel = document.getElementById('spin-wheel');
            const spinButton = document.getElementById('spin-button');
            
            // Disable button during spin
            spinButton.disabled = true;
            spinButton.classList.remove('pulse');
            
            // Show spinning message
            document.getElementById('result-message').textContent = 'Spinning...';
            document.getElementById('result-amount').textContent = '';
            
            // Add spinning animation
            wheel.classList.add('spinning');
            
            // Determine the result (random for demo)
            const prizes = prizeValues[gameState.currency];
            const winningIndex = Math.floor(Math.random() * prizes.length);
            const winningValue = prizes[winningIndex];
            
            // Calculate rotation (5 full rotations + random section)
            const rotations = 5;
            const winningAngle = 360 - (winningIndex * 45) + (Math.random() * 20 - 10);
            const totalRotation = rotations * 360 + winningAngle;
            
            // Stop spinning after 3 seconds
            setTimeout(() => {
                wheel.classList.remove('spinning');
                wheel.style.transform = `rotate(${totalRotation}deg)`;
                wheel.style.transition = 'transform 3s cubic-bezier(0.17, 0.67, 0.83, 0.67)';
                
                // Show result after animation completes
                setTimeout(() => {
                    showResult(winningValue);
                    gameState.spinning = false;
                    gameState.lastSpinTime = Date.now();
                    updateTimerDisplay(gameState.spinCooldown);
                    
                    // Re-enable button (with cooldown)
                    spinButton.disabled = timeRemaining > 0;
                    if (!spinButton.disabled) {
                        spinButton.classList.add('pulse');
                    }
                }, 3500);
            }, 3000);
        }
        
        // Show the winning result
        function showResult(value) {
            const symbol = currencySymbols[gameState.currency];
            const resultAmount = document.getElementById('result-amount');
            const resultMessage = document.getElementById('result-message');
            
            resultAmount.textContent = `${symbol}${value}`;
            resultMessage.textContent = 'Congratulations! You won:';
            
            // Create confetti effect
            createConfetti();
            
            // Special messages for big wins
            if (value === Math.max(...prizeValues[gameState.currency])) {
                resultMessage.textContent = 'JACKPOT! You won the biggest prize!';
                resultAmount.classList.add('animate-bounce');
                setTimeout(() => {
                    resultAmount.classList.remove('animate-bounce');
                }, 3000);
            }
        }
        
        // Update the timer display
        function updateTimerDisplay(remainingTime) {
            const timerElement = document.getElementById('spin-timer');
            const spinButton = document.getElementById('spin-button');
            
            if (remainingTime <= 0) {
                timerElement.textContent = 'Spin available now!';
                spinButton.disabled = false;
                spinButton.classList.add('pulse');
                return;
            }
            
            // Calculate hours, minutes, seconds
            const hours = Math.floor(remainingTime / (1000 * 60 * 60));
            const minutes = Math.floor((remainingTime % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((remainingTime % (1000 * 60)) / 1000);
            
            timerElement.textContent = `Next spin in: ${hours}h ${minutes}m ${seconds}s`;
            spinButton.disabled = true;
            spinButton.classList.remove('pulse');
            
            // Update every second
            setTimeout(() => {
                updateTimerDisplay(remainingTime - 1000);
            }, 1000);
        }
        
        // Create confetti effect
        function createConfetti() {
            const container = document.getElementById('confetti-container');
            container.innerHTML = '';
            
            const colors = ['#f00', '#0f0', '#00f', '#ff0', '#f0f', '#0ff', '#fff'];
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                
                // Random properties
                const size = Math.random() * 10 + 5;
                const color = colors[Math.floor(Math.random() * colors.length)];
                const left = Math.random() * 100;
                const delay = Math.random() * 3;
                const duration = Math.random() * 2 + 2;
                
                confetti.style.width = `${size}px`;
                confetti.style.height = `${size}px`;
                confetti.style.backgroundColor = color;
                confetti.style.left = `${left}%`;
                confetti.style.animationDelay = `${delay}s`;
                confetti.style.animationDuration = `${duration}s`;
                
                // Random shape
                if (Math.random() > 0.5) {
                    confetti.style.borderRadius = '50%';
                } else {
                    confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                }
                
                container.appendChild(confetti);
                
                // Add animation class
                setTimeout(() => {
                    confetti.classList.add('confetti-animation');
                    
                    // Remove after animation
                    setTimeout(() => {
                        confetti.remove();
                    }, duration * 1000);
                }, 10);
            }
        }
        
        // Initialize the game
        document.addEventListener('DOMContentLoaded', () => {
            // Create the wheel
            initWheel();
            
            // Set up currency buttons
            const currencyButtons = document.querySelectorAll('.currency-button');
            currencyButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove active class from all buttons
                    currencyButtons.forEach(btn => btn.classList.remove('active'));
                    
                    // Add active class to clicked button
                    button.classList.add('active');
                    
                    // Update currency
                    gameState.currency = button.id.split('-')[1];
                    
                    // Recreate wheel with new currency
                    initWheel();
                    
                    // Update result message
                    document.getElementById('result-message').textContent = `Selected currency: ${gameState.currency.toUpperCase()}`;
                    document.getElementById('result-amount').textContent = '';
                });
            });
            
            // Spin button
            document.getElementById('spin-button').addEventListener('click', spinWheel);
            
            // Return button
            document.getElementById('return-button').addEventListener('click', () => {
                alert('Returning to main menu...');
                // In a real game, you would navigate back to the main menu
            });
            
            // Initialize timer display
            updateTimerDisplay(gameState.lastSpinTime + gameState.spinCooldown - Date.now());
        });
    </script>
</body>
</html>
